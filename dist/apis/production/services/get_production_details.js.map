{"version":3,"sources":["../source/apis/production/services/get_production_details.js"],"names":["getProductionDetails","offset","limit","ProductionDetails","productionListInDb","find","skip","populate","path","select","lean","map","production","productName","product","productCode","lineName","line","undefined"],"mappings":";;;;;;;AAAA;;;;AAEe,eAAeA,oBAAf,CAAoCC,MAApC,EAA4CC,KAA5C,EAAmD;AAChE,QAAMC,iBAAiB,GAAG,0BAA1B;AACA,QAAMC,kBAAkB,GAAG,MAAMD,iBAAiB,CAACE,IAAlB,GAC9BC,IAD8B,CACzBL,MAAM,IAAI,CADe,EAE9BC,KAF8B,CAExBA,KAAK,IAAI,EAFe,EAG9BK,QAH8B,CAGrB;AAAEC,IAAAA,IAAI,EAAE,SAAR;AAAmBC,IAAAA,MAAM,EAAE;AAA3B,GAHqB,EAI9BF,QAJ8B,CAIrB;AAAEC,IAAAA,IAAI,EAAE,MAAR;AAAgBC,IAAAA,MAAM,EAAE;AAAxB,GAJqB,EAK9BC,IAL8B,EAAjC;AAMA,SAAON,kBAAkB,CAACO,GAAnB,CAAwBC,UAAD,IAAgB;AAC5C,WAAO,EACL,GAAGA,UADE;AAEL,SAAG;AACDC,QAAAA,WAAW,EAAED,UAAU,CAACE,OAAX,CAAmBD,WAD/B;AAEDE,QAAAA,WAAW,EAAEH,UAAU,CAACE,OAAX,CAAmBC,WAF/B;AAGDC,QAAAA,QAAQ,EAAEJ,UAAU,CAACK,IAAX,CAAgBD,QAHzB;AAIDF,QAAAA,OAAO,EAAEI,SAJR;AAKDD,QAAAA,IAAI,EAAEC;AALL;AAFE,KAAP;AAUD,GAXM,CAAP;AAYD","sourcesContent":["import ProductionModel from '../models/production';\n\nexport default async function getProductionDetails(offset, limit) {\n  const ProductionDetails = ProductionModel();\n  const productionListInDb = await ProductionDetails.find()\n    .skip(offset || 0)\n    .limit(limit || 20)\n    .populate({ path: 'product', select: 'productCode productName' })\n    .populate({ path: 'line', select: 'lineName' })\n    .lean();\n  return productionListInDb.map((production) => {\n    return {\n      ...production,\n      ...{\n        productName: production.product.productName,\n        productCode: production.product.productCode,\n        lineName: production.line.lineName,\n        product: undefined,\n        line: undefined,\n      },\n    };\n  });\n}\n"],"file":"get_production_details.js"}