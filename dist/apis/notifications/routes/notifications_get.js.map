{"version":3,"sources":["../source/apis/notifications/routes/notifications_get.js"],"names":["router","express","Router","userLocationSchema","query","offset","Joi","number","required","limit","get","baseUrl","secret","env","JWT_SECRET","isRevoked","getLoggedInUser","getNotification"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEA,MAAMC,kBAAkB,GAAG;AACzBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MAAM,EAAEC,eAAIC,MAAJ,GAAaC,QAAb,EADH;AAELC,IAAAA,KAAK,EAAEH,eAAIC,MAAJ,GAAaC,QAAb;AAFF;AADkB,CAA3B;AAOA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCAR,MAAM,CAACU,GAAP,CACG,GAAEC,gBAAQ,EADb,EAEE,yBAAW;AACTC,EAAAA,MAAM,EAAEC,aAAIC,UADH;AAETC,EAAAA,SAAS,EAAE;AAFF,CAAX,CAFF,EAME,0BAAUZ,kBAAV,CANF,EAOEa,0BAPF,EAQEC,0BARF;eAWejB,M","sourcesContent":["import express from 'express';\nimport expressJWT from 'express-jwt';\nimport { Joi, celebrate } from 'celebrate';\nimport { baseUrl } from '../baseurl';\nimport env from '../../../config/env';\nimport { getIsRevokedCallBackForAccessToken } from '../../../helpers/revokeToken/checkRevokedToken';\nimport getLoggedInUser from '../../../middlewares/get_loggedIn_user';\nimport getNotification from '../controllers/notifications_get';\n\nconst router = express.Router();\n\nconst userLocationSchema = {\n  query: {\n    offset: Joi.number().required(),\n    limit: Joi.number().required(),\n  },\n};\n\n/**\n * @swagger\n * /notifications:\n *   get:\n *     tags:\n *       - Notifications\n *     description: It returns the list of notifications.\n *     produces:\n *       - application/json\n *     responses:\n *       200:\n *         description: A JSON object\n *         schema:\n *           type: object\n *           properties:\n *            count:\n *              type: number\n *            notifications:\n *              type: array\n *              items:\n *                type: object\n *                properties:\n *                   new:\n *                       type: boolean\n *                   title:\n *                       type: string\n *                   body:\n *                       type: string\n *                   createdOn:\n *                       type: Date\n *                       example: \"1990-08-19T14:55:06.607Z\"\n */\n\nrouter.get(\n  `${baseUrl}`,\n  expressJWT({\n    secret: env.JWT_SECRET,\n    isRevoked: getIsRevokedCallBackForAccessToken(),\n  }),\n  celebrate(userLocationSchema),\n  getLoggedInUser,\n  getNotification\n);\n\nexport default router;\n"],"file":"notifications_get.js"}