{"version":3,"sources":["../source/apis/notifications/services/create_notifications.js"],"names":["createNotifications","users","title","body","Notifications","newNotifications","all","userId","undefined","createdOn","Date","toISOString","map","user","insertMany","message"],"mappings":";;;;;;;AAAA;;;;AAEe,eAAeA,mBAAf,CAAmCC,KAAnC,EAA0CC,KAA1C,EAAiDC,IAAjD,EAAuD;AACpE,QAAMC,aAAa,GAAG,6BAAtB;AACA,MAAIC,gBAAgB,GAAG,EAAvB;;AACA,MAAIJ,KAAK,KAAK,KAAd,EAAqB;AACnBI,IAAAA,gBAAgB,GAAG,CACjB;AACEC,MAAAA,GAAG,EAAE,IADP;AAEEC,MAAAA,MAAM,EAAEC,SAFV;AAGEN,MAAAA,KAHF;AAIEC,MAAAA,IAJF;AAKEM,MAAAA,SAAS,EAAE,IAAIC,IAAJ,GAAWC,WAAX;AALb,KADiB,CAAnB;AASD,GAVD,MAUO;AACLN,IAAAA,gBAAgB,GAAGJ,KAAK,CAACW,GAAN,CAAWC,IAAD,KAAW;AACtCN,MAAAA,MAAM,EAAEM,IAD8B;AAEtCX,MAAAA,KAFsC;AAGtCC,MAAAA,IAHsC;AAItCM,MAAAA,SAAS,EAAE,IAAIC,IAAJ,GAAWC,WAAX;AAJ2B,KAAX,CAAV,CAAnB;AAMD;;AACD,QAAMP,aAAa,CAACU,UAAd,CAAyBT,gBAAzB,CAAN;AACA,SAAO;AAAEU,IAAAA,OAAO,EAAE;AAAX,GAAP;AACD","sourcesContent":["import NotificationsModel from '../models/notifications';\n\nexport default async function createNotifications(users, title, body) {\n  const Notifications = NotificationsModel();\n  let newNotifications = [];\n  if (users === 'all') {\n    newNotifications = [\n      {\n        all: true,\n        userId: undefined,\n        title,\n        body,\n        createdOn: new Date().toISOString(),\n      },\n    ];\n  } else {\n    newNotifications = users.map((user) => ({\n      userId: user,\n      title,\n      body,\n      createdOn: new Date().toISOString(),\n    }));\n  }\n  await Notifications.insertMany(newNotifications);\n  return { message: 'Notifications created successfully' };\n}\n"],"file":"create_notifications.js"}