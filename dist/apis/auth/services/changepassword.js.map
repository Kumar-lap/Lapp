{"version":3,"sources":["../source/apis/auth/services/changepassword.js"],"names":["changePassword","userId","oldPassword","newPassword","Users","user","findOne","password","Boom","badRequest","updatedUser","update","new"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEe,eAAeA,cAAf,CAA8BC,MAA9B,EAAsCC,WAAtC,EAAmDC,WAAnD,EAAgE;AAC7E,QAAMC,KAAK,GAAG,oBAAd;AACA,QAAMC,IAAI,GAAG,MAAMD,KAAK,CAACE,OAAN,CAAc;AAAEL,IAAAA,MAAF;AAAUM,IAAAA,QAAQ,EAAEL;AAApB,GAAd,CAAnB;AACA,MAAI,CAACG,IAAL,EAAW,MAAMG,cAAKC,UAAL,CAAgB,gBAAhB,CAAN;AACX,QAAMC,WAAW,GAAG,MAAMN,KAAK,CAACO,MAAN,CACxB;AAAEV,IAAAA;AAAF,GADwB,EAExB;AAAEM,IAAAA,QAAQ,EAAEJ;AAAZ,GAFwB,EAGxB;AAAES,IAAAA,GAAG,EAAE;AAAP,GAHwB,CAA1B;AAKA,SAAOF,WAAP;AACD","sourcesContent":["import Boom from '@hapi/boom';\nimport UsersModel from '../models/user';\n\nexport default async function changePassword(userId, oldPassword, newPassword) {\n  const Users = UsersModel();\n  const user = await Users.findOne({ userId, password: oldPassword });\n  if (!user) throw Boom.badRequest('Wrong password');\n  const updatedUser = await Users.update(\n    { userId },\n    { password: newPassword },\n    { new: true }\n  );\n  return updatedUser;\n}\n"],"file":"changepassword.js"}