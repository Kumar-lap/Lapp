{"version":3,"sources":["../source/apis/auth/controllers/login_post.js"],"names":["login","req","res","next","userId","body","password","services","dbAuthenticate","issueTime","Date","now","jwt","generateJwt","refreshToken","generateRefreshToken","json","error"],"mappings":";;;;;;;AAAA;;;;AAEe,eAAeA,KAAf,CAAqBC,GAArB,EAA0BC,GAA1B,EAA+BC,IAA/B,EAAqC;AAClD,MAAI;AACF,UAAM;AAAEC,MAAAA;AAAF,QAAaH,GAAG,CAACI,IAAvB;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAeL,GAAG,CAACI,IAAzB;AACA,UAAME,eAASC,cAAT,CAAwBJ,MAAxB,EAAgCE,QAAhC,CAAN;AACA,UAAMG,SAAS,GAAGC,IAAI,CAACC,GAAL,EAAlB;AACA,UAAMC,GAAG,GAAG,MAAML,eAASM,WAAT,CAAqBT,MAArB,EAA6BK,SAA7B,CAAlB;AACA,UAAMK,YAAY,GAAG,MAAMP,eAASQ,oBAAT,CAA8BX,MAA9B,EAAsCK,SAAtC,CAA3B;AACA,WAAOP,GAAG,CAACc,IAAJ,CAAS;AAAEJ,MAAAA,GAAF;AAAOE,MAAAA;AAAP,KAAT,CAAP;AACD,GARD,CAQE,OAAOG,KAAP,EAAc;AACd,WAAOd,IAAI,CAACc,KAAD,CAAX;AACD;AACF","sourcesContent":["import services from '../services/index';\n\nexport default async function login(req, res, next) {\n  try {\n    const { userId } = req.body;\n    const { password } = req.body;\n    await services.dbAuthenticate(userId, password);\n    const issueTime = Date.now();\n    const jwt = await services.generateJwt(userId, issueTime);\n    const refreshToken = await services.generateRefreshToken(userId, issueTime);\n    return res.json({ jwt, refreshToken });\n  } catch (error) {\n    return next(error);\n  }\n}\n"],"file":"login_post.js"}