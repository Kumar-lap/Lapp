{"version":3,"sources":["../source/apis/auth/controllers/user_post.js"],"names":["login","req","res","next","mobileRegex","mobileNumber","body","match","Boom","badRequest","userInPayload","user","services","createUser","json","_id","undefined","__v","error"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEe,eAAeA,KAAf,CAAqBC,GAArB,EAA0BC,GAA1B,EAA+BC,IAA/B,EAAqC;AAClD,MAAI;AACF,UAAMC,WAAW,GAAG,8BAApB;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAmBJ,GAAG,CAACK,IAA7B;AACA,UAAMC,KAAK,GAAGF,YAAY,CAACE,KAAb,CAAmBH,WAAnB,CAAd;AACA,QAAI,CAACG,KAAL,EAAY,MAAMC,cAAKC,UAAL,CAAgB,uBAAhB,CAAN;AACZ,UAAMC,aAAa,GAAGT,GAAG,CAACK,IAA1B;AACA,UAAMK,IAAI,GAAG,MAAMC,eAASC,UAAT,CAAoBH,aAApB,CAAnB;AACA,WAAOR,GAAG,CAACY,IAAJ,CAAS,EAAE,GAAGH,IAAL;AAAW,SAAG;AAAEI,QAAAA,GAAG,EAAEC,SAAP;AAAkBC,QAAAA,GAAG,EAAED;AAAvB;AAAd,KAAT,CAAP;AACD,GARD,CAQE,OAAOE,KAAP,EAAc;AACd,WAAOf,IAAI,CAACe,KAAD,CAAX;AACD;AACF","sourcesContent":["import Boom from '@hapi/boom';\nimport services from '../services/index';\n\nexport default async function login(req, res, next) {\n  try {\n    const mobileRegex = /^[0][1-9]\\d{9}$|^[1-9]\\d{9}$/;\n    const { mobileNumber } = req.body;\n    const match = mobileNumber.match(mobileRegex);\n    if (!match) throw Boom.badRequest('Invalid mobile number');\n    const userInPayload = req.body;\n    const user = await services.createUser(userInPayload);\n    return res.json({ ...user, ...{ _id: undefined, __v: undefined } });\n  } catch (error) {\n    return next(error);\n  }\n}\n"],"file":"user_post.js"}