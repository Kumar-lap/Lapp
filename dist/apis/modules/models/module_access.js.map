{"version":3,"sources":["../source/apis/modules/models/module_access.js"],"names":["modules","collectionName","models","featureAccessSchema","Schema","access","type","String","required","featureId","moduleSchema","role","Types","ObjectId","moduleId","features"],"mappings":";;;;;;;AAAA;;AAEe,SAASA,OAAT,GAAmB;AAChC,QAAMC,cAAc,GAAG,SAAvB;;AACA,MAAIC,iBAAOD,cAAP,CAAJ,EAA4B;AAC1B,WAAO,qBAAMA,cAAN,CAAP;AACD;;AAED,QAAME,mBAAmB,GAAG,IAAIC,gBAAJ,CAAW;AACrCC,IAAAA,MAAM,EAAE;AACNC,MAAAA,IAAI,EAAE,CAACC,MAAD,CADA;AAENC,MAAAA,QAAQ,EAAE;AAFJ,KAD6B;AAKrCC,IAAAA,SAAS,EAAE;AACTH,MAAAA,IAAI,EAAEC,MADG;AAETC,MAAAA,QAAQ,EAAE;AAFD;AAL0B,GAAX,CAA5B;AAWA,QAAME,YAAY,GAAG,IAAIN,gBAAJ,CAAW;AAC9BO,IAAAA,IAAI,EAAE;AACJL,MAAAA,IAAI,EAAEF,iBAAOQ,KAAP,CAAaC,QADf;AAEJL,MAAAA,QAAQ,EAAE;AAFN,KADwB;AAK9BM,IAAAA,QAAQ,EAAE;AACRR,MAAAA,IAAI,EAAEC,MADE;AAERC,MAAAA,QAAQ,EAAE;AAFF,KALoB;AAS9BO,IAAAA,QAAQ,EAAE;AACRT,MAAAA,IAAI,EAAE,CAACH,mBAAD;AADE;AAToB,GAAX,CAArB;AAcA,SAAO,qBAAMF,cAAN,EAAsBS,YAAtB,CAAP;AACD","sourcesContent":["import { model, Schema, models } from 'mongoose';\n\nexport default function modules() {\n  const collectionName = 'modules';\n  if (models[collectionName]) {\n    return model(collectionName);\n  }\n\n  const featureAccessSchema = new Schema({\n    access: {\n      type: [String],\n      required: true,\n    },\n    featureId: {\n      type: String,\n      required: true,\n    },\n  });\n\n  const moduleSchema = new Schema({\n    role: {\n      type: Schema.Types.ObjectId,\n      required: true,\n    },\n    moduleId: {\n      type: String,\n      required: true,\n    },\n    features: {\n      type: [featureAccessSchema],\n    },\n  });\n\n  return model(collectionName, moduleSchema);\n}\n"],"file":"module_access.js"}