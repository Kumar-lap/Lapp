{"version":3,"sources":["../source/apis/modules/services/update_module_access.js"],"names":["updateModuleAccessByRole","modules","ModuleAccess","Promise","all","map","module","findOneAndUpdate","role","moduleId","message"],"mappings":";;;;;;;AAAA;;;;AAEe,eAAeA,wBAAf,CAAwCC,OAAxC,EAAiD;AAC9D,QAAMC,YAAY,GAAG,uBAArB;AAEA,QAAMC,OAAO,CAACC,GAAR,CACJH,OAAO,CAACI,GAAR,CAAY,MAAOC,MAAP,IAAkB;AAC5B,WAAOJ,YAAY,CAACK,gBAAb,CACL;AAAEC,MAAAA,IAAI,EAAEF,MAAM,CAACE,IAAf;AAAqBC,MAAAA,QAAQ,EAAEH,MAAM,CAACG;AAAtC,KADK,EAEL;AAAEH,MAAAA;AAAF,KAFK,CAAP;AAID,GALD,CADI,CAAN;AAQA,SAAO;AAAEI,IAAAA,OAAO,EAAE;AAAX,GAAP;AACD","sourcesContent":["import ModuleAccessModel from '../models/modules';\n\nexport default async function updateModuleAccessByRole(modules) {\n  const ModuleAccess = ModuleAccessModel();\n\n  await Promise.all(\n    modules.map(async (module) => {\n      return ModuleAccess.findOneAndUpdate(\n        { role: module.role, moduleId: module.moduleId },\n        { module }\n      );\n    })\n  );\n  return { message: 'Module access updated successfully' };\n}\n"],"file":"update_module_access.js"}