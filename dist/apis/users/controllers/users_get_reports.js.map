{"version":3,"sources":["../source/apis/users/controllers/users_get_reports.js"],"names":["getUserReports","req","res","next","videoId","query","assignedLocation","lodash","sortBy","loggedInUser","locationAccess","pop","json","services","division","_id","undefined","err"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEe,eAAeA,cAAf,CAA8BC,GAA9B,EAAmCC,GAAnC,EAAwCC,IAAxC,EAA8C;AAC3D,MAAI;AACF,UAAM;AAAEC,MAAAA;AAAF,QAAcH,GAAG,CAACI,KAAxB;;AACA,UAAMC,gBAAgB,GAAGC,gBACtBC,MADsB,CACfP,GAAG,CAACQ,YAAJ,CAAiBC,cADF,EACkB,eADlB,EACmC,KADnC,EAEtBC,GAFsB,EAAzB;;AAGA,WAAOT,GAAG,CAACU,IAAJ,CACL,MAAMC,eAASb,cAAT,CACJM,gBAAgB,GAAGA,gBAAgB,CAACQ,QAAjB,CAA0BC,GAA7B,GAAmCC,SAD/C,EAEJZ,OAFI,CADD,CAAP;AAMD,GAXD,CAWE,OAAOa,GAAP,EAAY;AACZ,WAAOd,IAAI,CAACc,GAAD,CAAX;AACD;AACF","sourcesContent":["import lodash from 'lodash';\nimport services from '../services/index';\n\nexport default async function getUserReports(req, res, next) {\n  try {\n    const { videoId } = req.query;\n    const assignedLocation = lodash\n      .sortBy(req.loggedInUser.locationAccess, 'divisionLevel', 'asc')\n      .pop();\n    return res.json(\n      await services.getUserReports(\n        assignedLocation ? assignedLocation.division._id : undefined,\n        videoId\n      )\n    );\n  } catch (err) {\n    return next(err);\n  }\n}\n"],"file":"users_get_reports.js"}