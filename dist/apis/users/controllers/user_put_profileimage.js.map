{"version":3,"sources":["../source/apis/users/controllers/user_put_profileimage.js"],"names":["updateImage","req","res","next","key","file","buffer","services","updateUserDetails","params","id","Location","json","url","err"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEe,eAAeA,WAAf,CAA2BC,GAA3B,EAAgCC,GAAhC,EAAqCC,IAArC,EAA2C;AACxD,MAAI;AACF,UAAMC,GAAG,GAAI,oBAAmB,kBAAO,MAAvC;AACA,UAAMC,IAAI,GAAG,MAAM,yBAAWD,GAAX,EAAgBH,GAAG,CAACI,IAAJ,CAASC,MAAzB,CAAnB;AACA,UAAMC,eAASC,iBAAT,CAA2BP,GAAG,CAACQ,MAAJ,CAAWC,EAAtC,EAA0CL,IAAI,CAACM,QAA/C,CAAN;AACA,WAAOT,GAAG,CAACU,IAAJ,CAAS;AAAEC,MAAAA,GAAG,EAAER,IAAI,CAACM;AAAZ,KAAT,CAAP;AACD,GALD,CAKE,OAAOG,GAAP,EAAY;AACZ,WAAOX,IAAI,CAACW,GAAD,CAAX;AACD;AACF","sourcesContent":["import { uuid } from 'uuidv4';\nimport services from '../services/index';\nimport fileUpload from '../../../helpers/s3_file_upload.js/fileupload';\n\nexport default async function updateImage(req, res, next) {\n  try {\n    const key = `profile pictures/${uuid()}.jpg`;\n    const file = await fileUpload(key, req.file.buffer);\n    await services.updateUserDetails(req.params.id, file.Location);\n    return res.json({ url: file.Location });\n  } catch (err) {\n    return next(err);\n  }\n}\n"],"file":"user_put_profileimage.js"}