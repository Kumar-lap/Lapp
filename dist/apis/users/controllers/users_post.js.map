{"version":3,"sources":["../source/apis/users/controllers/users_post.js"],"names":["createUser","req","res","next","mobileRegex","mobileNumber","body","match","Boom","badRequest","user","newUser","services","json","err"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEe,eAAeA,UAAf,CAA0BC,GAA1B,EAA+BC,GAA/B,EAAoCC,IAApC,EAA0C;AACvD,MAAI;AACF,UAAMC,WAAW,GAAG,8BAApB;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAmBJ,GAAG,CAACK,IAA7B;AACA,UAAMC,KAAK,GAAGF,YAAY,CAACE,KAAb,CAAmBH,WAAnB,CAAd;AACA,QAAI,CAACG,KAAL,EAAY,MAAMC,cAAKC,UAAL,CAAgB,uBAAhB,CAAN;AACZ,UAAMC,IAAI,GAAGT,GAAG,CAACK,IAAjB;AACA,UAAMK,OAAO,GAAG,MAAMC,eAASZ,UAAT,CAAoB,EACxC,GAAGU,IADqC;AAExC,SAAG;AAAEL,QAAAA,YAAY,EAAG,MAAKK,IAAI,CAACL,YAAa;AAAxC;AAFqC,KAApB,CAAtB;AAIA,WAAOH,GAAG,CAACW,IAAJ,CAASF,OAAT,CAAP;AACD,GAXD,CAWE,OAAOG,GAAP,EAAY;AACZ,WAAOX,IAAI,CAACW,GAAD,CAAX;AACD;AACF","sourcesContent":["import Boom from '@hapi/boom';\nimport services from '../services/index';\n\nexport default async function createUser(req, res, next) {\n  try {\n    const mobileRegex = /^[0][1-9]\\d{9}$|^[1-9]\\d{9}$/;\n    const { mobileNumber } = req.body;\n    const match = mobileNumber.match(mobileRegex);\n    if (!match) throw Boom.badRequest('Invalid mobile number');\n    const user = req.body;\n    const newUser = await services.createUser({\n      ...user,\n      ...{ mobileNumber: `+91${user.mobileNumber}` },\n    });\n    return res.json(newUser);\n  } catch (err) {\n    return next(err);\n  }\n}\n"],"file":"users_post.js"}