{"version":3,"sources":["../source/apis/users/services/update_user_details.js"],"names":["getUsersById","userId","profileImage","deviceToken","active","Users","usersInDB","findByIdAndUpdate","_id","new","undefined","Boom","badRequest"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEe,eAAeA,YAAf,CACbC,MADa,EAEbC,YAFa,EAGbC,WAHa,EAIbC,MAJa,EAKb;AACA,QAAMC,KAAK,GAAG,oBAAd;AACA,MAAIC,SAAJ;;AAEA,MAAIJ,YAAJ,EAAkB;AAChBI,IAAAA,SAAS,GAAG,MAAMD,KAAK,CAACE,iBAAN,CAChB;AAAEC,MAAAA,GAAG,EAAEP;AAAP,KADgB,EAEhB;AAAEC,MAAAA;AAAF,KAFgB,EAGhB;AAAEO,MAAAA,GAAG,EAAE;AAAP,KAHgB,CAAlB;AAKD;;AACD,MAAIN,WAAJ,EAAiB;AACfG,IAAAA,SAAS,GAAG,MAAMD,KAAK,CAACE,iBAAN,CAChB;AAAEC,MAAAA,GAAG,EAAEP;AAAP,KADgB,EAEhB;AAAEE,MAAAA;AAAF,KAFgB,EAGhB;AAAEM,MAAAA,GAAG,EAAE;AAAP,KAHgB,CAAlB;AAKD;;AACD,MAAIL,MAAM,KAAKM,SAAf,EAA0B;AACxBJ,IAAAA,SAAS,GAAG,MAAMD,KAAK,CAACE,iBAAN,CAChB;AAAEC,MAAAA,GAAG,EAAEP;AAAP,KADgB,EAEhB;AAAEG,MAAAA;AAAF,KAFgB,EAGhB;AAAEK,MAAAA,GAAG,EAAE;AAAP,KAHgB,CAAlB;AAKD;;AACD,MAAI,CAACH,SAAL,EAAgB;AACd,UAAMK,cAAKC,UAAL,CAAgB,8BAAhB,CAAN;AACD;;AACD,SAAON,SAAP;AACD","sourcesContent":["import Boom from '@hapi/boom';\nimport UsersModel from '../models/user';\n\nexport default async function getUsersById(\n  userId,\n  profileImage,\n  deviceToken,\n  active\n) {\n  const Users = UsersModel();\n  let usersInDB;\n\n  if (profileImage) {\n    usersInDB = await Users.findByIdAndUpdate(\n      { _id: userId },\n      { profileImage },\n      { new: true }\n    );\n  }\n  if (deviceToken) {\n    usersInDB = await Users.findByIdAndUpdate(\n      { _id: userId },\n      { deviceToken },\n      { new: true }\n    );\n  }\n  if (active !== undefined) {\n    usersInDB = await Users.findByIdAndUpdate(\n      { _id: userId },\n      { active },\n      { new: true }\n    );\n  }\n  if (!usersInDB) {\n    throw Boom.badRequest('Invalid id passed in request');\n  }\n  return usersInDB;\n}\n"],"file":"update_user_details.js"}