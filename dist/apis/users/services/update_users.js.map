{"version":3,"sources":["../source/apis/users/services/update_users.js"],"names":["updateUsers","data","Users","validUsers","find","_id","$in","map","user","length","Boom","badRequest","Promise","all","findByIdAndUpdate","userDetails","message"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEe,eAAeA,WAAf,CAA2BC,IAA3B,EAAiC;AAC9C,QAAMC,KAAK,GAAG,oBAAd;AACA,QAAMC,UAAU,GAAG,MAAMD,KAAK,CAACE,IAAN,CAAW;AAClCC,IAAAA,GAAG,EAAE;AAAEC,MAAAA,GAAG,EAAEL,IAAI,CAACM,GAAL,CAAUC,IAAD,IAAUA,IAAI,CAACH,GAAxB;AAAP;AAD6B,GAAX,CAAzB;;AAGA,MAAIJ,IAAI,CAACQ,MAAL,KAAgBN,UAAU,CAACM,MAA/B,EAAuC;AACrC,UAAMC,cAAKC,UAAL,CAAgB,oCAAhB,CAAN;AACD;;AACD,QAAMC,OAAO,CAACC,GAAR,CACJZ,IAAI,CAACM,GAAL,CAAS,MAAOC,IAAP,IAAgB;AACvB,UAAMN,KAAK,CAACY,iBAAN,CAAwB;AAAET,MAAAA,GAAG,EAAEG,IAAI,CAACH;AAAZ,KAAxB,EAA2CG,IAAI,CAACO,WAAhD,CAAN;AACD,GAFD,CADI,CAAN;AAKA,SAAO;AAAEC,IAAAA,OAAO,EAAE;AAAX,GAAP;AACD","sourcesContent":["import Boom from '@hapi/boom';\nimport UsersModel from '../models/user';\n\nexport default async function updateUsers(data) {\n  const Users = UsersModel();\n  const validUsers = await Users.find({\n    _id: { $in: data.map((user) => user._id) },\n  });\n  if (data.length !== validUsers.length) {\n    throw Boom.badRequest('Invalid user ids passed in request');\n  }\n  await Promise.all(\n    data.map(async (user) => {\n      await Users.findByIdAndUpdate({ _id: user._id }, user.userDetails);\n    })\n  );\n  return { message: 'User details updated successfully' };\n}\n"],"file":"update_users.js"}