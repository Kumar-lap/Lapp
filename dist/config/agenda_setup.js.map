{"version":3,"sources":["../source/config/agenda_setup.js"],"names":["agenda","Agenda","db","address","env","MONGODBSRV","collection","start","on","scheduledJob","remove","getAgenda"],"mappings":";;;;;;;AAAA;;AACA;;AAOA;;;;AAEA,MAAMA,MAAM,GAAG,IAAIC,eAAJ,CAAW;AACxBC,EAAAA,EAAE,EAAE;AAAEC,IAAAA,OAAO,EAAEC,aAAIC,UAAf;AAA2BC,IAAAA,UAAU,EAAE;AAAvC;AADoB,CAAX,CAAf;;AAGA,CAAC,YAAY;AACX,QAAMN,MAAM,CAACO,KAAP,EAAN;AACA,+BAAeP,MAAf;AACA,6BAAaA,MAAb;AACA,6BAAaA,MAAb;AACA,0CAA0BA,MAA1B;AACA,sDAAsCA,MAAtC;AACAA,EAAAA,MAAM,CAACQ,EAAP,CAAU,UAAV,EAAsB,MAAOC,YAAP,IAAwB;AAC5C,UAAMA,YAAY,CAACC,MAAb,EAAN;AACD,GAFD;AAGD,CAVD;;AAYe,SAASC,SAAT,GAAqB;AAClC,SAAOX,MAAP;AACD","sourcesContent":["import Agenda from 'agenda';\nimport {\n  emailScheduler,\n  otpScheduler,\n  smsScheduler,\n  pushNotificationScheduler,\n  userSpecificPushNotificationScheduler,\n} from '../helpers/job_scheduler/agenda';\nimport env from './env';\n\nconst agenda = new Agenda({\n  db: { address: env.MONGODBSRV, collection: 'agendaJobs' },\n});\n(async () => {\n  await agenda.start();\n  emailScheduler(agenda);\n  otpScheduler(agenda);\n  smsScheduler(agenda);\n  pushNotificationScheduler(agenda);\n  userSpecificPushNotificationScheduler(agenda);\n  agenda.on('complete', async (scheduledJob) => {\n    await scheduledJob.remove();\n  });\n})();\n\nexport default function getAgenda() {\n  return agenda;\n}\n"],"file":"agenda_setup.js"}