{"version":3,"sources":["../source/helpers/s3_file_upload.js/fileupload.js"],"names":["getS3ObjectStream","key","fileContent","s3","AWS","S3","accessKeyId","env","S3_ACCESS_KEY_ID","secretAccessKey","S3_ACCESS_KEY","params","Bucket","S3_BUCKET_NAME","Key","Body","Promise","resolve","reject","upload","err","data"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEe,eAAeA,iBAAf,CAAiCC,GAAjC,EAAsCC,WAAtC,EAAmD;AAChE,QAAMC,EAAE,GAAG,IAAIC,gBAAIC,EAAR,CAAW;AACpBC,IAAAA,WAAW,EAAEC,aAAIC,gBADG;AAEpBC,IAAAA,eAAe,EAAEF,aAAIG;AAFD,GAAX,CAAX;AAIA,QAAMC,MAAM,GAAG;AACbC,IAAAA,MAAM,EAAEL,aAAIM,cADC;AAEbC,IAAAA,GAAG,EAAEb,GAFQ;AAGbc,IAAAA,IAAI,EAAEb;AAHO,GAAf;AAMA,SAAO,IAAIc,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCf,IAAAA,EAAE,CAACgB,MAAH,CAAUR,MAAV,EAAkB,CAACS,GAAD,EAAMC,IAAN,KAAe;AAC/B,UAAID,GAAJ,EAAS;AACPF,QAAAA,MAAM,CAACE,GAAD,CAAN;AACD;;AACDH,MAAAA,OAAO,CAACI,IAAD,CAAP;AACD,KALD;AAMD,GAPM,CAAP;AAQD","sourcesContent":["import AWS from 'aws-sdk';\nimport env from '../../config/env';\n\nexport default async function getS3ObjectStream(key, fileContent) {\n  const s3 = new AWS.S3({\n    accessKeyId: env.S3_ACCESS_KEY_ID,\n    secretAccessKey: env.S3_ACCESS_KEY,\n  });\n  const params = {\n    Bucket: env.S3_BUCKET_NAME,\n    Key: key,\n    Body: fileContent,\n  };\n\n  return new Promise((resolve, reject) => {\n    s3.upload(params, (err, data) => {\n      if (err) {\n        reject(err);\n      }\n      resolve(data);\n    });\n  });\n}\n"],"file":"fileupload.js"}