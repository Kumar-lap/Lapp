{"version":3,"sources":["../source/helpers/pushnotifications/send_push_notifications.js"],"names":["createNewNotificationForAllUsers","topic","notification","data","deviceOptions","android","ttl","clickAction","apns","payload","aps","response","admin","messaging","send","err","console","log","createNewNotificationByDeviceTokens","tokens","sendMulticast"],"mappings":";;;;;;;;AAAA;;;;AAEO,eAAeA,gCAAf,CACLC,KADK,EAELC,YAFK,EAGLC,IAHK,EAIL;AACA,MAAI;AACF,UAAMC,aAAa,GAAG;AACpBC,MAAAA,OAAO,EAAE;AACPC,QAAAA,GAAG,EAAE,OAAO,IADL;AAEPJ,QAAAA,YAAY,EAAE;AACZK,UAAAA,WAAW,EAAE;AADD;AAFP,OADW;AAOpBC,MAAAA,IAAI,EAAE;AACJC,QAAAA,OAAO,EAAE;AACPC,UAAAA,GAAG,EAAE;AACHH,YAAAA,WAAW,EAAE;AADV;AADE;AADL;AAPc,KAAtB;AAeA,UAAMI,QAAQ,GAAG,MAAMC,qCACpBC,SADoB,GAEpBC,IAFoB,CAEf;AAAEb,MAAAA,KAAF;AAASC,MAAAA,YAAT;AAAuBC,MAAAA,IAAvB;AAA6B,SAAGC;AAAhC,KAFe,CAAvB;AAGA,WAAOO,QAAP;AACD,GApBD,CAoBE,OAAOI,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,WAAOA,GAAP;AACD;AACF;;AAEM,eAAeG,mCAAf,CACLC,MADK,EAELjB,YAFK,EAGLC,IAHK,EAIL;AACA,MAAI;AACF,UAAMC,aAAa,GAAG;AACpBC,MAAAA,OAAO,EAAE;AACPC,QAAAA,GAAG,EAAE,OAAO,IADL;AAEPJ,QAAAA,YAAY,EAAE;AACZK,UAAAA,WAAW,EAAE;AADD;AAFP,OADW;AAOpBC,MAAAA,IAAI,EAAE;AACJC,QAAAA,OAAO,EAAE;AACPC,UAAAA,GAAG,EAAE;AACHH,YAAAA,WAAW,EAAE;AADV;AADE;AADL;AAPc,KAAtB;AAeA,UAAMI,QAAQ,GAAG,MAAMC,qCACpBC,SADoB,GAEpBO,aAFoB,CAEN;AAAED,MAAAA,MAAF;AAAUjB,MAAAA,YAAV;AAAwBC,MAAAA,IAAxB;AAA8B,SAAGC;AAAjC,KAFM,CAAvB;AAGA,WAAOO,QAAP;AACD,GApBD,CAoBE,OAAOI,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,WAAOA,GAAP;AACD;AACF","sourcesContent":["import admin from '../../config/firebase_push_notifications';\n\nexport async function createNewNotificationForAllUsers(\n  topic,\n  notification,\n  data\n) {\n  try {\n    const deviceOptions = {\n      android: {\n        ttl: 3600 * 1000,\n        notification: {\n          clickAction: 'FLUTTER_NOTIFICATION_CLICK',\n        },\n      },\n      apns: {\n        payload: {\n          aps: {\n            clickAction: 'FLUTTER_NOTIFICATION_CLICK',\n          },\n        },\n      },\n    };\n    const response = await admin\n      .messaging()\n      .send({ topic, notification, data, ...deviceOptions });\n    return response;\n  } catch (err) {\n    console.log(err);\n    return err;\n  }\n}\n\nexport async function createNewNotificationByDeviceTokens(\n  tokens,\n  notification,\n  data\n) {\n  try {\n    const deviceOptions = {\n      android: {\n        ttl: 3600 * 1000,\n        notification: {\n          clickAction: 'FLUTTER_NOTIFICATION_CLICK',\n        },\n      },\n      apns: {\n        payload: {\n          aps: {\n            clickAction: 'FLUTTER_NOTIFICATION_CLICK',\n          },\n        },\n      },\n    };\n    const response = await admin\n      .messaging()\n      .sendMulticast({ tokens, notification, data, ...deviceOptions });\n    return response;\n  } catch (err) {\n    console.log(err);\n    return err;\n  }\n}\n"],"file":"send_push_notifications.js"}